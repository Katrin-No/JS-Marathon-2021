{"remainingRequest":"/home/katrin/dev/projects/JS-Marathon-2021/Vue CLI/InOutComes/node_modules/babel-loader/lib/index.js!/home/katrin/dev/projects/JS-Marathon-2021/Vue CLI/InOutComes/src/store/auth.js","dependencies":[{"path":"/home/katrin/dev/projects/JS-Marathon-2021/Vue CLI/InOutComes/src/store/auth.js","mtime":1636880002756},{"path":"/home/katrin/dev/projects/JS-Marathon-2021/Vue CLI/InOutComes/babel.config.js","mtime":1636535418002},{"path":"/home/katrin/dev/projects/JS-Marathon-2021/Vue CLI/InOutComes/node_modules/cache-loader/dist/cjs.js","mtime":1636535840058},{"path":"/home/katrin/dev/projects/JS-Marathon-2021/Vue CLI/InOutComes/node_modules/babel-loader/lib/index.js","mtime":1636535839466}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2thdHJpbi9kZXYvcHJvamVjdHMvSlMtTWFyYXRob24tMjAyMS9WdWUgQ0xJL0luT3V0Q29tZXMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UvY29tcGF0L2FwcCc7CmV4cG9ydCBkZWZhdWx0IHsKICBhY3Rpb25zOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZiwgX3JlZjIpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgZGlzcGF0Y2gsIGNvbW1pdCwgZW1haWwsIHBhc3N3b3JkOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaCwgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgICBlbWFpbCA9IF9yZWYyLmVtYWlsLCBwYXNzd29yZCA9IF9yZWYyLnBhc3N3b3JkOwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoZW1haWwsIHBhc3N3b3JkKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgic2V0RXJyb3IiLCBfY29udGV4dC50MCk7IC8vIGNoYW5nZSBzdGF0ZQoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1syLCA3XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIoX3JlZjMsIF9yZWY0KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBkaXNwYXRjaCwgY29tbWl0LCBlbWFpbCwgcGFzc3dvcmQsIG5hbWUsIHVpZDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmMy5kaXNwYXRjaCwgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICAgICAgICAgICAgZW1haWwgPSBfcmVmNC5lbWFpbCwgcGFzc3dvcmQgPSBfcmVmNC5wYXNzd29yZCwgbmFtZSA9IF9yZWY0Lm5hbWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gZmlyZWJhc2UuYXV0aCgpLmNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZChlbWFpbCwgcGFzc3dvcmQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2dldFVpZCcpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICB1aWQgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoIi91c2Vycy8iLmNvbmNhdCh1aWQsICIvaW5mbyIpKS5zZXQoewogICAgICAgICAgICAgICAgICBiaWxsOiAxMDAwMCwKICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDEyOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgY29tbWl0KCJzZXRFcnJvciIsIF9jb250ZXh0Mi50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMiwgMTJdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldFVpZDogZnVuY3Rpb24gZ2V0VWlkKCkgewogICAgICB2YXIgdXNlciA9IGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlcjsKICAgICAgcmV0dXJuIHVzZXIgPyB1c2VyLnVpZCA6IG51bGw7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZmlyZWJhc2UuYXV0aCgpLnNpZ25PdXQoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/home/katrin/dev/projects/JS-Marathon-2021/Vue CLI/InOutComes/src/store/auth.js"],"names":["firebase","actions","login","dispatch","commit","email","password","auth","signInWithEmailAndPassword","register","name","createUserWithEmailAndPassword","uid","database","ref","set","bill","getUid","user","currentUser","logout","signOut"],"mappings":";;;AAAA,OAAOA,QAAP,MAAqB,qBAArB;AAEA,eAAe;AACbC,EAAAA,OAAO,EAAE;AACDC,IAAAA,KADC,8BAC4C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAtCC,gBAAAA,QAAsC,QAAtCA,QAAsC,EAA5BC,MAA4B,QAA5BA,MAA4B;AAAlBC,gBAAAA,KAAkB,SAAlBA,KAAkB,EAAXC,QAAW,SAAXA,QAAW;AAAA;AAAA;AAAA,uBAGzCN,QAAQ,CAACO,IAAT,GAAgBC,0BAAhB,CAA2CH,KAA3C,EAAkDC,QAAlD,CAHyC;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAM/CF,gBAAAA,MAAM,CAAC,UAAD,cAAN,CAN+C,CAMzB;;AANyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQlD,KATM;AAUDK,IAAAA,QAVC,kCAUqD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA5CN,gBAAAA,QAA4C,SAA5CA,QAA4C,EAAlCC,MAAkC,SAAlCA,MAAkC;AAAxBC,gBAAAA,KAAwB,SAAxBA,KAAwB,EAAjBC,QAAiB,SAAjBA,QAAiB,EAAPI,IAAO,SAAPA,IAAO;AAAA;AAAA;AAAA,uBAElDV,QAAQ,CAACO,IAAT,GAAgBI,8BAAhB,CAA+CN,KAA/C,EAAsDC,QAAtD,CAFkD;;AAAA;AAAA;AAAA,uBAGtCH,QAAQ,CAAC,QAAD,CAH8B;;AAAA;AAGlDS,gBAAAA,GAHkD;AAAA;AAAA,uBAOlDZ,QAAQ,CAACa,QAAT,GAAoBC,GAApB,kBAAkCF,GAAlC,YAA8CG,GAA9C,CAAkD;AACtDC,kBAAAA,IAAI,EAAE,KADgD;AAEtDN,kBAAAA,IAAI,EAAJA;AAFsD,iBAAlD,CAPkD;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAYxDN,gBAAAA,MAAM,CAAC,UAAD,eAAN;;AAZwD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAc3D,KAxBM;AAyBPa,IAAAA,MAzBO,oBAyBE;AACP,UAAMC,IAAI,GAAGlB,QAAQ,CAACO,IAAT,GAAgBY,WAA7B;AACA,aAAOD,IAAI,GAAGA,IAAI,CAACN,GAAR,GAAc,IAAzB;AACD,KA5BM;AA6BDQ,IAAAA,MA7BC,oBA6BQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACPpB,QAAQ,CAACO,IAAT,GAAgBc,OAAhB,EADO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEd;AA/BM;AADI,CAAf","sourcesContent":["import firebase from 'firebase/compat/app';\n\nexport default {\n  actions: {\n    async login({dispatch, commit}, {email, password}) {\n      // dispatch because we call actions - here \"getUserId\"\n      try {\n        await firebase.auth().signInWithEmailAndPassword(email, password)\n        // await - this method is async and returns promice\n      } catch (e) {\n        commit(\"setError\", e) // change state\n      }\n    },\n    async register({dispatch, commit}, {email, password, name}) {\n      try {\n        await firebase.auth().createUserWithEmailAndPassword(email, password)\n        const uid = await dispatch('getUid')\n\n        // create state in DB \n        // ref - we call from db table users field with uniq id, table info\n        await firebase.database().ref(`/users/${uid}/info`).set({\n          bill: 10000,\n          name\n        })\n      } catch (e) {\n        commit(\"setError\", e)\n      }\n    },\n    getUid() {\n      const user = firebase.auth().currentUser\n      return user ? user.uid : null\n    },\n    async logout() {\n      await firebase.auth().signOut()\n    }\n  }\n}\n"]}]}