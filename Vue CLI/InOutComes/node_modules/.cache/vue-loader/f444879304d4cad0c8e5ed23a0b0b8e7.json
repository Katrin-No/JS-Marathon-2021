{"remainingRequest":"/home/katrin/dev/projects/JS-Marathon-2021/Vue CLI/InOutComes/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/katrin/dev/projects/JS-Marathon-2021/Vue CLI/InOutComes/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/katrin/dev/projects/JS-Marathon-2021/Vue CLI/InOutComes/src/views/Login.vue","mtime":1636735784897},{"path":"/home/katrin/dev/projects/JS-Marathon-2021/Vue CLI/InOutComes/node_modules/cache-loader/dist/cjs.js","mtime":1636535840058},{"path":"/home/katrin/dev/projects/JS-Marathon-2021/Vue CLI/InOutComes/node_modules/babel-loader/lib/index.js","mtime":1636535839466},{"path":"/home/katrin/dev/projects/JS-Marathon-2021/Vue CLI/InOutComes/node_modules/cache-loader/dist/cjs.js","mtime":1636535840058},{"path":"/home/katrin/dev/projects/JS-Marathon-2021/Vue CLI/InOutComes/node_modules/vue-loader/lib/index.js","mtime":1636535844986}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGVtYWlsLCByZXF1aXJlZCwgbWluTGVuZ3RoIH0gZnJvbSAidnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzIjsKaW1wb3J0IG1lc3NhZ2VzIGZyb20gIkAvdXRpbHMvbWVzc2FnZXMiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJsb2dpbiIsCiAgZGF0YTogKCkgPT4gKHsKICAgIGVtYWlsOiAiIiwKICAgIHBhc3N3b3JkOiAiIiwKICB9KSwKICB2YWxpZGF0aW9uczogewogICAgZW1haWw6IHsgZW1haWwsIHJlcXVpcmVkIH0sCiAgICBwYXNzd29yZDogeyByZXF1aXJlZCwgbWluTGVuZ3RoOiBtaW5MZW5ndGgoNikgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIG9uU3VibWl0KCkgewogICAgICBpZiAodGhpcy4kdi4kaW52YWxpZCkgewogICAgICAgIC8vIGlmIHRoZSBob2xlIGZvcm0gaXMgaW52YWxpZAogICAgICAgIHRoaXMuJHYuJHRvdWNoKCk7IC8vIGFjdGl2YXRlIHZhbGlkYXRpb24KICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY29uc3QgZm9ybURhdGEgPSB7CiAgICAgICAgZW1haWw6IHRoaXMuZW1haWwsCiAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQsCiAgICAgIH07CgogICAgICB0cnkgewogICAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJsb2dpbiIsIGZvcm1EYXRhKTsKCiAgICAgICAgLy8gY29uc29sZS5sb2coZm9ybURhdGEpOwogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvIik7IC8vIGFmdGVyIGxvZ2luIHJlZGlyZWN0IHRvIGhvbWUgcGFnZQogICAgICB9IGNhdGNoIChlKSB7fSAvLyBlcnJvcnMgd2VyZGVuIGluIHN0b3JlIGJlYXJiZWl0ZXQKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgaWYgKG1lc3NhZ2VzW3RoaXMuJHJvdXRlLnF1ZXJ5Lm1lc3NhZ2VdKSB7CiAgICAgIHRoaXMuJG1lc3NhZ2UobWVzc2FnZXNbdGhpcy4kcm91dGUucXVlcnkubWVzc2FnZV0pOwogICAgfQogIH0sCn07Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template lang=\"pug\">\ndiv\n  form.card.auth-card(@submit.prevent=\"onSubmit\")\n    .card-content\n      span.card-title(style=\"text-align: center\") In Out Comes\n      .input-field\n        input#email.validate(\n          type=\"text\",\n          v-model.trim=\"email\",\n          :class=\"{ invalid: ($v.email.$dirty && !$v.email.required) || ($v.email.$dirty && !$v.email.email) }\"\n        ) \n          //- trim deletes spaces\n          //- $v validator\n          //- $ sistem value\n        label(for=\"email\") Email\n        small.helper-text.invalid(v-if=\"$v.email.$dirty && !$v.email.required\") \n          | Email can't be blank\n        small.helper-text.invalid(\n          v-else-if=\"$v.email.$dirty && !$v.email.email\"\n        ) \n          | Email is incorrect\n\n      .input-field\n        input#password.validate(\n          type=\"password\",\n          v-model.trim=\"password\",\n          :class=\"{ invalid: ($v.password.$dirty && !$v.email.required) || ($v.password.$dirty && !$v.email.minLength) }\"\n        )\n        label(for=\"password\") Password\n        small.helper-text.invalid(\n          v-if=\"$v.password.$dirty && !$v.password.required\"\n        ) \n          | Password can't be blank\n        small.helper-text.invalid(\n          v-else-if=\"$v.password.$dirty && !$v.password.minLength\"\n        ) \n          | Password has only {{ password.length }} chars. Minimum is {{ $v.password.$params.minLength.min }}\n\n    .card-action\n      div\n        button.btn.waves-effect.waves-light.auth-submit(type=\"submit\")\n          | Sign in\n          i.material-icons.right send\n      p.center\n        | Don't have any account? &#32\n        router-link(to=\"/register\") Sign up\n//- prevent, weil submit normalerweise die Seite reloadet, was wir nicht wollen\n</template>\n\n<script>\nimport { email, required, minLength } from \"vuelidate/lib/validators\";\nimport messages from \"@/utils/messages\";\n\nexport default {\n  name: \"login\",\n  data: () => ({\n    email: \"\",\n    password: \"\",\n  }),\n  validations: {\n    email: { email, required },\n    password: { required, minLength: minLength(6) },\n  },\n  methods: {\n    async onSubmit() {\n      if (this.$v.$invalid) {\n        // if the hole form is invalid\n        this.$v.$touch(); // activate validation\n        return;\n      }\n      const formData = {\n        email: this.email,\n        password: this.password,\n      };\n\n      try {\n        await this.$store.dispatch(\"login\", formData);\n\n        // console.log(formData);\n        this.$router.push(\"/\"); // after login redirect to home page\n      } catch (e) {} // errors werden in store bearbeitet\n    },\n  },\n  mounted() {\n    if (messages[this.$route.query.message]) {\n      this.$message(messages[this.$route.query.message]);\n    }\n  },\n};\n</script>\n"]}]}